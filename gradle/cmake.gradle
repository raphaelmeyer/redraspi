
class CMakeTask extends DefaultTask {
  String image
  String workspace
  String sourceContainer
  String sourceHost
  String command

  @TaskAction
  def run() {
    println "docker --rm -t --volumes-from ${workspace} -v ${sourceHost}:${sourceContainer}:ro ${image} cmake ${command}"
  }
}

ext.CMakeTask = CMakeTask

